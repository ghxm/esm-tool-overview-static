---
layout: null
---
{
  "tools": [
    {%- for tool in site.tools -%}
      {%- unless tool.output == false -%}
    {
      {%- assign field_count = 0 -%}
      {%- for field in site.fields -%}
        {%- assign field_name = field[0] -%}
        {%- assign field_config = field[1] -%}
        {%- assign value = tool[field_name] -%}
        {%- if value or field_config.show_if_empty -%}
          {%- if field_count > 0 -%},{%- endif -%}
          "{{ field_name }}": {{ value | jsonify }}
          {%- assign field_count = field_count | plus: 1 -%}
        {%- endif -%}
      {%- endfor -%}
      {%- if field_count > 0 -%},{%- endif -%}
      "url": "{{ site.url }}{{ site.baseurl }}{{ tool.url }}"
    }{% unless forloop.last %},{% endunless %}
      {%- endunless -%}
    {%- endfor -%}
  ],
  "generated_at": "{{ site.time | date_to_xmlschema }}",
  "total_count": {{ site.tools | where_exp: "tool", "tool.output != false" | size }}
}